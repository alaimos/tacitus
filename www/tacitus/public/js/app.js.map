{"version":3,"sources":["ajax_setup.js","dataTables-ellipsis.js","notification-menu.js","theme.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$.ajaxSetup({\n    headers: {\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n    }\n});\n","/**\n * This data rendering helper method can be useful for cases where you have\n * potentially large data strings to be shown in a column that is restricted by\n * width. The data for the column is still fully searchable and sortable, but if\n * it is longer than a give number of characters, it will be truncated and\n * shown with ellipsis. A browser provided tooltip will show the full string\n * to the end user on mouse hover of the cell.\n *\n * This function should be used with the `dt-init columns.render` configuration\n * option of DataTables.\n *\n * It accepts three parameters:\n *\n * 1. `-type integer` - The number of characters to restrict the displayed data\n *    to.\n * 2. `-type boolean` (optional - default `false`) - Indicate if the truncation\n *    of the string should not occur in the middle of a word (`true`) or if it\n *    can (`false`). This can allow the display of strings to look nicer, at the\n *    expense of showing less characters.\n * 2. `-type boolean` (optional - default `false`) - Escape HTML entities\n *    (`true`) or not (`false` - default).\n *\n *  @name ellipsis\n *  @summary Restrict output data to a particular length, showing anything\n *      longer with ellipsis and a browser provided tooltip on hover.\n *  @author [Allan Jardine](http://datatables.net)\n *  @requires DataTables 1.10+\n *\n * @returns {Number} Calculated average\n *\n *  @example\n *    // Restrict a column to 17 characters, don't split words\n *    $('#example').DataTable( {\n *      columnDefs: [ {\n *        targets: 1,\n *        render: $.fn.dataTable.render.ellipsis( 17, true )\n *      } ]\n *    } );\n *\n *  @example\n *    // Restrict a column to 10 characters, do split words\n *    $('#example').DataTable( {\n *      columnDefs: [ {\n *        targets: 2,\n *        render: $.fn.dataTable.render.ellipsis( 10 )\n *      } ]\n *    } );\n */\n\njQuery.fn.dataTable.render.ellipsis = function ( cutoff, wordbreak, escapeHtml ) {\n\tvar esc = function ( t ) {\n\t\treturn t\n\t\t\t.replace( /&/g, '&amp;' )\n\t\t\t.replace( /</g, '&lt;' )\n\t\t\t.replace( />/g, '&gt;' )\n\t\t\t.replace( /\"/g, '&quot;' );\n\t};\n\n\treturn function ( d, type, row ) {\n\t\t// Order, search and type get the original data\n\t\tif ( type !== 'display' ) {\n\t\t\treturn d;\n\t\t}\n\n\t\tif ( typeof d !== 'number' && typeof d !== 'string' ) {\n\t\t\treturn d;\n\t\t}\n\n\t\td = d.toString(); // cast numbers\n\n\t\tif ( d.length <= cutoff ) {\n\t\t\treturn d;\n\t\t}\n\n\t\tvar shortened = d.substr(0, cutoff-1);\n\n\t\t// Find the last white space character in the string\n\t\tif ( wordbreak ) {\n\t\t\tshortened = shortened.replace(/\\s([^\\s]*)$/, '');\n\t\t}\n\n\t\t// Protect against uncontrolled HTML input\n\t\tif ( escapeHtml ) {\n\t\t\tshortened = esc( shortened );\n\t\t}\n\n\t\treturn '<span class=\"ellipsis\" title=\"'+esc(d)+'\">'+shortened+'&#8230;</span>';\n\t};\n};\n","$(function () {\n    var badgeUnread = $('.badge-unread-alerts');\n    if (badgeUnread && badgeUnread.length > 0) {\n        $('.mark-as-read-link').click(function () {\n            $.ajax({\n                dataType: 'json',\n                method: 'GET',\n                url: $(this).data('url'),\n                success: function (data) {\n                    if (data.ok) {\n                        $('.user-notification-container').remove();\n                        $('.user-notification-divider').remove();\n                        badgeUnread.addClass(\"hidden\");\n                        badgeUnread.html(0);\n                    } else {\n                        if (console !== undefined) {\n                            console.log(data.message);\n                        }\n                    }\n                }\n            });\n        });\n        var initLinks = function () {\n            $('.user-notification-link').click(function () {\n                var self = $(this);\n                $.ajax({\n                    dataType: 'json',\n                    method: 'GET',\n                    url: $(this).data('url'),\n                    success: function (data) {\n                        if (data.ok) {\n                            self.parent().next().remove();\n                            self.parent().remove();\n                            var unread = parseInt(badgeUnread.html()) - 1;\n                            badgeUnread.html(unread);\n                            if (unread <= 0) {\n                                badgeUnread.addClass(\"hidden\");\n                            }\n                        } else {\n                            if (console !== undefined) {\n                                console.log(data.message);\n                            }\n                        }\n                    }\n                });\n            });\n        };\n        initLinks();\n        (function notificationPoll() {\n            setTimeout(function () {\n                $.ajax({\n                    url: badgeUnread.data('url'), success: function (data) {\n                        if (data.ok) {\n                            var oldCount = parseInt(badgeUnread.html());\n                            if (oldCount != data.message) {\n                                //redraw notifications\n                                $('.user-notification-container').remove();\n                                $('.user-notification-divider').remove();\n                                var code = '';\n                                for (var i = 0; i < data.data.length; i++) {\n                                    var d = data.data[i];\n                                    code += '<li class=\"user-notification-container\"><a href=\"Javascript:;\"' +\n                                        ' class=\"user-notification-link\" data-url=\"' + d.url + '\"><div>' + d.body + ' <span' +\n                                        ' class=\"pull-right text-muted small\"><em>' + d.created + '</em></span></div>' +\n                                        '</a></li><li class=\"divider user-notification-divider\"></li>'\n                                }\n                                if (code != '') {\n                                    $(code).insertAfter('.recent-alerts-header-divider');\n                                    initLinks();\n                                }\n                                badgeUnread.html(data.message);\n                                if (data.message > 0) {\n                                    $('.no-alerts').addClass('hidden');\n                                    badgeUnread.removeClass('hidden');\n                                } else {\n                                    $('.no-alerts').removeClass('hidden');\n                                    badgeUnread.addClass('hidden');\n                                }\n                            }\n                            //Setup the next poll recursively\n                            notificationPoll();\n                        } else {\n                            if (console !== undefined) {\n                                console.log(data.message);\n                            }\n                        }\n                    }, dataType: \"json\"\n                });\n            }, 30000); //30 seconds delay\n        })();\n    }\n});","$(function () {\n\n    $('#side-menu').metisMenu();\n\n});\n\n//Loads the correct sidebar on window load,\n//collapses the sidebar on window resize.\n// Sets the min-height of #page-wrapper to window size\n$(function () {\n    $(window).bind(\"load resize\", function () {\n        var topOffset = 50;\n        var width = (this.window.innerWidth > 0) ? this.window.innerWidth : this.screen.width;\n        if (width < 768) {\n            $('div.navbar-collapse').addClass('collapse');\n            topOffset = 100; // 2-row-menu\n        } else {\n            $('div.navbar-collapse').removeClass('collapse');\n        }\n\n        var height = ((this.window.innerHeight > 0) ? this.window.innerHeight : this.screen.height) - 1;\n        height = height - topOffset;\n        if (height < 1) height = 1;\n        if (height > topOffset) {\n            $(\"#page-wrapper\").css(\"min-height\", (height) + \"px\");\n        }\n    });\n\n    var url = window.location;\n    // var element = $('ul.nav a').filter(function() {\n    //     return this.href == url;\n    // }).addClass('active').parent().parent().addClass('in').parent();\n    var element = $('ul.nav a').filter(function () {\n        return this.href == url;\n    }).addClass('active').parent();\n\n    while (true) {\n        if (element.is('li')) {\n            element = element.parent().addClass('in').parent();\n        } else {\n            break;\n        }\n    }\n});\n"],"sourceRoot":"/source/"}